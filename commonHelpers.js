import{a as h,i as u,S as k}from"./assets/vendor-ba070a68.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();let l=1,L=15;const b=document.querySelector(".load-more-button"),x="44838304-f7fe04331650310c487eefb2b";h.defaults.baseURL="https://pixabay.com/api";async function D(r){l=1,b.style.display="none";try{const t=await h.get("/",{params:{key:x,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:L}});return l++,b.style.display="block",t.data}catch(t){u.show({message:t.message,messageColor:"#fff",color:"#EF4040",position:"topCenter",timeout:5e3})}}async function F(r){try{const t=await h.get("/",{params:{key:x,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:L}});return l++,t.data}catch(t){u.show({message:t.message,messageColor:"#fff",color:"#EF4040",position:"topCenter",timeout:5e3})}}function E(r){const t=document.createDocumentFragment();r.forEach(e=>{const o=document.createElement("li");o.classList.add("gallery-item");const s=document.createElement("a");s.classList.add("gallery-link"),s.href=e.largeImageURL,o.append(s);const n=document.createElement("img");n.classList.add("gallery-image"),n.src=e.webformatURL,n.alt=e.tags,n.style.width="360px",n.style.height="200px";const m=document.createElement("ul");m.classList.add("infobox");const i=(v,P)=>{const f=document.createElement("li");f.classList.add("info");const p=document.createElement("h2");p.classList.add("info-header"),p.textContent=v;const y=document.createElement("p");return y.classList.add("info-text"),y.textContent=P,f.append(p,y),f};m.append(i("Likes",e.likes),i("Views",e.views),i("Comments",e.comments),i("Downloads",e.downloads)),s.append(n,m),t.append(o)});const a=document.querySelector("ul");a.classList.add("gallery"),a.append(t),new k(".gallery .gallery-link",{captions:!0,captionsData:"alt",captionDelay:250}).refresh()}function q(){const r=document.querySelector(".loader");r.style.display="block"}function S(){const r=document.querySelector(".loader");r.style.display="none"}const I=document.querySelector("form input");let g;const w=document.querySelector("form"),d=document.querySelector(".load-more-button");let C;w.addEventListener("submit",async r=>{r.preventDefault(),g=I.value;const t=document.querySelector("ul");t.classList.add("gallery"),t.innerHTML="",q();try{const a=await D(g);a.total?(C=a.totalHits,E(a.hits)):(u.show({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fff",color:"#EF4040",position:"topRight",timeout:2500,iconColor:"#fff",maxWidth:"432px"}),d.style.display="none")}catch{}finally{S()}w.reset()});d.addEventListener("click",async r=>{r.preventDefault();const t=Math.ceil(C/L);d.style.display="none",q();try{const e=await F(g);E(e.hits)}catch{}finally{S(),l>t?u.show({message:"We're sorry, but you've reached the end of search results.",messageColor:"#fff",color:"green",position:"topRight",timeout:4e3,iconColor:"#fff",maxWidth:"432px"}):d.style.display="block"}const c=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:c.height*2,behavior:"smooth"})});
//# sourceMappingURL=commonHelpers.js.map
